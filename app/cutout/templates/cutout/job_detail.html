{% extends 'cutout/base.html' %}
{% block content %}
<!-- <h2>Job files</h2> -->
<h2>Job detail view</h2>
<h3>Name: &ldquo;{% if object.name %}{{ object.name }}{% else %}{{ object.uuid | truncatechars:9 }}{% endif %}&rdquo;</h3>
<h3>ID: <code>{{ object.uuid }}</code></h3>
<hr>

<div class="container">
  <div class="row pt-3">
    <div class="col-lg-4">
      <h3>Info</h3>
      <p>Modified: {{ object.modified }}</p>
      <p>Status: {{ object.status }}</p>
      {% if object.description %}
      <h3>Description</h3>
      {{ object.description }}
      {% endif %}
    </div>
    <div class="col-lg-8">
      <h3>Processed coordinates</h3>
      <div style="border: 1px solid gray; padding: 1rem; background-color: rgb(240, 239, 239); max-width: 100%; max-height: 20rem; overflow-y: scroll; font-size: medium; font-family: monospace;"><pre>{{ coords }}</pre></div>
      <h3>Cutout config</h3>
      <div style="border: 1px solid gray; padding: 1rem; background-color: rgb(240, 239, 239); max-width: 100%; max-height: 20rem; overflow-y: scroll; font-size: medium; font-family: monospace;"><pre>{{ config }}</pre></div>
      {% if object.error_info %}
      <h3>Error Info</h3>
      <div style="border: 1px solid red; padding: 1rem; background-color: rgb(255, 202, 202); max-width: 100%; max-height: 20rem; overflow-y: scroll; font-size: medium; font-family: monospace;">
        <pre>{{ object.error_info }}</pre>
      </div>
      {% endif %}
    </div>
  </div>
  <div class="row pt-3">
    {% if files %}
    <h3>Files</h3>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Path</th>
          <th>Size (bytes)</th>
        </tr>
      </thead>
      <tbody>
        {% for job_file in files %}
        <tr>
          <td>
            <code><a href="../download/{{ object.uuid }}/{{ job_file.path }}">{{ job_file.path }}</a></code>
          </td>
          <td class="uuid-table"><code>{{ job_file.size }}</code></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% endif %}
  </div>
</div>
{% endblock %}
